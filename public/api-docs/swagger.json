{
  "swagger": "2.0",
  "info": {
    "version": "1.0.0",
    "title": "Barefoot Nomad API Documentation",
    "description": "Make company global travel and accommodation easy and convenient for the strong workforce of savvy members of staff, by leveraging the modern web.",
    "license": {
      "name": "MIT",
      "url": "https://opensource.org/licenses/MIT"
    }
  },
  "host": "stackup2-barefoot-backend-stag.herokuapp.com",
  "basePath": "/api",
  "schemes": [
    "https"
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/auth/signup": {
      "post": {
        "summary": "create an account",
        "tags": [
          "Sign up"
        ],
        "description": "User sign up endpoint",
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "User information",
            "in": "body",
            "description": "User information required for sign up",
            "required": true,
            "schema": {
              "$ref": "#/definitions/signup"
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Created",
            "schema": {
              "$ref": "#/responses/signupSuccess"
            }
          },
          "400": {
            "description": "Bad Request",
            "schema": {
              "$ref": "#/responses/signupFail"
            }
          }
        }
      }
    },
  "/auth/login":{
      "post": {
        "summary": "User Login",
        "produces": [
          "application/json"
        ],
        "consumes":[
          "application/x-www-form-urlencoded"
        ],
          "parameters": [
            {
              "name": "email",
              "in": "formData",
              "required": true,
              "type": "string",
              "format": "email",
              "description": "Email for securing user's account"
            },
            {
              "name": "password",
              "in": "formData",
              "required": true,
              "type": "string",
              "format": "password",
              "description": "Password for authentication"
            }
          ],
        "responses": {
         "200":{
           "description":"This is how the response looks like when login is successful",
            "schema":{
            "$ref": "#/login-definition/login-response-real-data"
          }
         },
         "400":{
           "description":"This is how the response looks like when a user sends empty email, or empty password or both empty",
           "schema":{
             "$ref":"#/login-definition/login-response-empty-data"
           }
         },
         "401":{
           "description":"This is how the response looks like when a user sends wrong email or password",
           "schema":{
             "$ref":"#/login-definition/login-response-wrong-data"
           }
         }
        }
      }
    }
  },
  "definitions": {
    "signup": {
      "properties": {
        "firstName": {
          "type": "string",
          "required": true,
          "example": "John"
        },
        "lastName": {
          "type": "string",
          "required": true,
          "example": "Doe"
        },
        "email": {
          "type": "string",
          "required": true,
          "example": "john@doe.com"
        },
        "address": {
          "type": "string",
          "required": true,
          "example": "Kigali, Rwanda"
        },
        "password": {
          "type": "string",
          "required": true,
          "example": "hellothere"
        },
        "gender": {
          "type": "string",
          "required": true,
          "example": "Male"
        }
      }
    },
    "incompleteSignup": {
      "properties": {
        "firstName": {
          "type": "string",
          "required": true,
          "example": "John"
        },
        "lastName": {
          "type": "string",
          "required": true,
          "example": "Doe"
        },
        "email": {
          "type": "string",
          "required": true,
          "example": "john@doe.com"
        },
        "address": {
          "type": "string",
          "required": true,
          "example": "Kigali, Rwanda"
        }
      }
    }
  },
  "responses": {
    "signupSuccess": {
      "properties": {
        "message": {
          "type": "string",
          "example": "Account created successfully"
        },
        "token": {
          "type": "string",
          "example": "eyJhbGciOiJIUzI1NiIsInR....."
        }
      }
    },
    "signupFail": {
      "properties": {
        "error": {
          "type": "string",
          "example": "Sign up failed! Please try again later"
        }
      }
    }
  },"login-definition":{
    "login-response-real-data":{
      "properties": {
        "message":{
          "type":"string",
          "example":"successfully logged in"
        },
        "token": {
          "type": "string",
          "example": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIiwibmFtZSI6IkpvaG4gRG9lIiwiaWF0IjoxNTE2MjM5MDIyfQ.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c"
        }
      }
    },
    "login-response-wrong-data":{
      "properties": {
        "message":{
          "type":"string",
          "example":"unknown credentials"
        }
      }
    },
    "login-response-empty-data":{
      "properties": {
        "message":{
          "type":"string",
          "example":"enter your email or password"
        }
      }
    }
  }
}
